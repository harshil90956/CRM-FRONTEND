ADMIN 

1ï¸âƒ£ AUTH & SESSION (ADMIN CONTEXT)

(Admin login & session restore ke bina kuch nahi chalega)

POST   /auth/login
POST   /auth/verify-otp
POST   /auth/logout
GET    /auth/me
GET    /auth/permissions


ğŸ“Œ Reason:

AdminDashboard

RBACGuard

Sidebar rendering

Role-based UI access

2ï¸âƒ£ ADMIN DASHBOARD (OVERVIEW + KPIs)

(AdminDashboard.tsx, cards, charts)

GET /admin/dashboard/summary
GET /admin/dashboard/activity
GET /admin/dashboard/top-agents


ğŸ“Œ Reason:

KPICard

ActivityCard

TopAgentsCard

Charts (leads, revenue, units)

3ï¸âƒ£ USERS MANAGEMENT (ADMIN â†’ USERS PAGE)

(UsersPage.tsx, AddUserModal.tsx, UserTable.tsx)

GET    /admin/users
POST   /admin/users
PATCH  /admin/users/:id
DELETE /admin/users/:id

PATCH  /admin/users/:id/status
PATCH  /admin/users/:id/role


ğŸ“Œ Reason:

Add / edit users

Activate / deactivate

Role switching (Agent / Manager)

4ï¸âƒ£ LEADS MANAGEMENT (ADMIN)

(LeadsPage.tsx, LeadsTable.tsx, LeadDetailModal.tsx)

GET    /admin/leads
POST   /admin/leads
PATCH  /admin/leads/:id
DELETE /admin/leads/:id

PATCH  /admin/leads/:id/status
PATCH  /admin/leads/:id/assign
GET    /admin/leads/stats


ğŸ“Œ Reason:

Lead lifecycle

Assign agent

Lead status funnel

Dashboard metrics

5ï¸âƒ£ PROJECTS MANAGEMENT (ADMIN)

(ProjectsPage.tsx, ProjectForm.tsx)

GET    /admin/projects
POST   /admin/projects
PATCH  /admin/projects/:id
DELETE /admin/projects/:id

POST   /admin/projects/:id/close
GET    /admin/projects/:id/units


ğŸ“Œ Reason:

Create / edit projects

Close project (cascade units)

Project-wise inventory

6ï¸âƒ£ UNITS / INVENTORY (ADMIN)

(UnitsPage.tsx, UnitsTable.tsx, UnitForm.tsx)

GET    /admin/units
POST   /admin/units
PATCH  /admin/units/:id
DELETE /admin/units/:id

PATCH  /admin/units/:id/status
GET    /admin/units/:id/history


ğŸ“Œ Reason:

Unit lifecycle

Availability tracking

Booking history per unit

7ï¸âƒ£ BOOKINGS & HOLDS (ADMIN â€“ CRITICAL)

(BookingsPage.tsx, BookingDetailSheet.tsx, HoldUnitModal.tsx)

GET    /admin/bookings
GET    /admin/bookings/:id

POST   /admin/bookings/hold
POST   /admin/bookings/:id/approve-hold
POST   /admin/bookings/:id/reject-hold

POST   /admin/bookings/:id/approve
POST   /admin/bookings/:id/reject
POST   /admin/bookings/:id/cancel

GET    /admin/bookings/:id/timeline
GET    /admin/bookings/statuses


ğŸ“Œ Reason:

Hold â†’ approve â†’ booking

Status timeline

Admin override flows

âš ï¸ Transactional (PostgreSQL must)

8ï¸âƒ£ PAYMENTS (ADMIN)

(PaymentsPage.tsx, PaymentForm.tsx)

GET    /admin/payments
GET    /admin/payments/:id

POST   /admin/payments
PATCH  /admin/payments/:id

POST   /admin/payments/:id/mark-received
POST   /admin/payments/:id/cancel

GET    /admin/payments/summary


ğŸ“Œ Reason:

Track booking payments

Manual receipt confirmation

Revenue summary

9ï¸âƒ£ PAYMENT REMINDERS (ADMIN)

(implicit via payments UI)

POST /admin/payments/:id/reminders
GET  /admin/payments/:id/reminders
POST /admin/reminders/run


ğŸ“Œ Reason:

Nodemailer integration

Due payment reminders

ğŸ”Ÿ REVIEWS MODERATION (ADMIN)

(ReviewsModerationPage.tsx, ReviewList.tsx)

GET    /admin/reviews
PATCH  /admin/reviews/:id/approve
DELETE /admin/reviews/:id
GET    /admin/reviews/stats


ğŸ“Œ Reason:

Approve / reject customer reviews

Rating control

1ï¸âƒ£1ï¸âƒ£ REPORTS (ADMIN)

(ReportsPage.tsx, charts)

GET /admin/reports/leads
GET /admin/reports/bookings
GET /admin/reports/payments
GET /admin/reports/agents


ğŸ“Œ Reason:

Export / visualize reports

Chart-based UI

1ï¸âƒ£2ï¸âƒ£ SETTINGS (ADMIN)

(SettingsPage.tsx)

GET   /admin/settings
PATCH /admin/settings


ğŸ“Œ Reason:

System-level configs

UI-driven settings

ğŸ“Š ADMIN API COUNT (REALITY CHECK)
Area	APIs
Auth	5
Dashboard	3
Users	6
Leads	7
Projects	6
Units	6
Bookings	9
Payments	7
Reminders	3
Reviews	4
Reports	4
Settings	2
TOTAL (ADMIN)	~62 APIs

ğŸ‘‰ This number is NORMAL for an admin-heavy CRM.

ğŸ”’ IMPORTANT GUARANTEE

Agar tum sirf ye ADMIN APIs bana lo
to Admin UI ka ek bhi button dead nahi rahega



MANAGER




1ï¸âƒ£ AUTH & SESSION (MANAGER CONTEXT)
POST /auth/login
POST /auth/verify-otp
POST /auth/logout
GET  /auth/me
GET  /auth/permissions


ğŸ“Œ Reason:

ManagerDashboard access

RBACGuard

Sidebar/menu rendering

2ï¸âƒ£ MANAGER DASHBOARD (KPIs + OVERVIEW)

(ManagerDashboard.tsx, KPI cards, charts)

GET /manager/dashboard/summary
GET /manager/dashboard/activity
GET /manager/dashboard/team-performance


ğŸ“Œ Reason:

Team KPIs

Lead & booking overview

Performance charts

3ï¸âƒ£ TEAM MANAGEMENT (MANAGER â†’ TEAM PAGE)

(TeamPage.tsx)

GET   /manager/team
PATCH /manager/team/:userId/assign-target
PATCH /manager/team/:userId/status


ğŸ“Œ Reason:

View team members

Assign targets/goals

Activate/deactivate team members (within scope)

â›” Role change âŒ
â›” User delete âŒ

4ï¸âƒ£ LEADS MANAGEMENT (MANAGER)

(LeadsPage.tsx, LeadCard, filters)

GET    /manager/leads
PATCH  /manager/leads/:id/status
PATCH  /manager/leads/:id/assign
GET    /manager/leads/stats
GET    /manager/leads/allowed-actions/:id


ğŸ“Œ Reason:

Team leads oversight

Assign leads to agents

Funnel stats

Action validation per lead

â›” Lead delete âŒ
â›” Lead create âŒ (admin/agent only)

5ï¸âƒ£ BOOKINGS & HOLDS (MANAGER)

(BookingsPage.tsx, BookingTimeline.tsx)

GET  /manager/bookings
GET  /manager/bookings/:id

POST /manager/bookings/:id/approve-hold
POST /manager/bookings/:id/reject-hold

GET  /manager/bookings/:id/timeline
GET  /manager/bookings/allowed-actions/:id


ğŸ“Œ Reason:

Approve/reject holds

Booking flow supervision

Timeline visibility

â›” Final booking approval âŒ (Admin only)
â›” Cancel booking âŒ

6ï¸âƒ£ PAYMENTS (MANAGER â€“ READ + FOLLOW-UP)

(PaymentsPage.tsx)

GET /manager/payments
GET /manager/payments/:id
GET /manager/payments/summary


ğŸ“Œ Reason:

Monitor team payments

Revenue overview

â›” Create payment âŒ
â›” Mark received âŒ

7ï¸âƒ£ UNITS / INVENTORY (MANAGER â€“ READ + LIMITED CONTROL)

(UnitsPage.tsx)

GET  /manager/units
PATCH /manager/units/:id/status
GET  /manager/units/statuses


ğŸ“Œ Reason:

Monitor availability

Put unit on HOLD (temporary)

â›” Unit create/delete âŒ

8ï¸âƒ£ REPORTS (MANAGER)

(ReportsPage.tsx)

GET /manager/reports/leads
GET /manager/reports/bookings
GET /manager/reports/payments
GET /manager/reports/team


ğŸ“Œ Reason:

Team-level reporting

Performance analysis

9ï¸âƒ£ REVIEWS (MANAGER â€“ DASHBOARD)

(ManagerReviewsDashboard.tsx)

GET /manager/reviews
GET /manager/reviews/stats


ğŸ“Œ Reason:

View review trends

Quality monitoring

â›” Approve/reject âŒ (Admin only)

ğŸ“Š MANAGER API COUNT
Area	APIs
Auth	5
Dashboard	3
Team	3
Leads	5
Bookings	6
Payments	3
Units	3
Reports	4
Reviews	2
TOTAL (MANAGER)	~34 APIs

ğŸ‘‰ This is realistic & correct for a manager role.

ğŸ”’ GUARANTEE

Agar tum sirf ye MANAGER APIs bana lo
to Manager UI ka ek bhi action dead nahi rahega
aur Admin/Agent boundaries safe rahengi.




1ï¸âƒ£ AUTH & SESSION (AGENT CONTEXT)
POST /auth/login
POST /auth/verify-otp
POST /auth/logout
GET  /auth/me
GET  /auth/permissions


ğŸ“Œ Reason:

AgentDashboard access

RBACGuard

Sidebar/menu rendering

2ï¸âƒ£ AGENT DASHBOARD (PERSONAL KPIs)

(AgentDashboard.tsx, KPI cards)

GET /agent/dashboard/summary
GET /agent/dashboard/activity
GET /agent/dashboard/performance


ğŸ“Œ Reason:

Personal lead count

Booking progress

Performance stats

3ï¸âƒ£ LEADS MANAGEMENT (AGENT CORE)

(LeadsPage.tsx, LeadCard.tsx, LeadDetailModal.tsx)

GET    /agent/leads
POST   /agent/leads
PATCH  /agent/leads/:id
PATCH  /agent/leads/:id/status
GET    /agent/leads/allowed-actions/:id


ğŸ“Œ Reason:

View assigned leads

Add new leads

Update lead status

Action validation

â›” Delete lead âŒ
â›” Assign lead âŒ

4ï¸âƒ£ PROPERTIES / UNITS (AGENT â€“ READ ONLY)

(PropertiesPage.tsx)

GET /agent/units
GET /agent/units/:id
GET /agent/units/availability


ğŸ“Œ Reason:

Show properties to customers

Check availability before hold

â›” Create/update unit âŒ

5ï¸âƒ£ BOOKINGS & HOLDS (AGENT â€“ INITIATION)

(BookingsPage.tsx, HoldUnitModal.tsx, BookingTimeline.tsx)

GET  /agent/bookings
GET  /agent/bookings/:id

POST /agent/bookings/hold
POST /agent/bookings/:id/cancel-hold

GET  /agent/bookings/:id/timeline
GET  /agent/bookings/allowed-actions/:id


ğŸ“Œ Reason:

Place hold on unit

Cancel own hold

Track booking progress

â›” Approve/reject hold âŒ
â›” Final booking approval âŒ

6ï¸âƒ£ PAYMENTS (AGENT â€“ READ ONLY)

(PaymentsPage.tsx)

GET /agent/payments
GET /agent/payments/:id


ğŸ“Œ Reason:

View payment status

Follow up with customer

â›” Create/update payment âŒ
â›” Mark received âŒ

7ï¸âƒ£ REVIEWS (AGENT)

(AgentReviewsPage.tsx)

GET /agent/reviews


ğŸ“Œ Reason:

View customer feedback

Performance reflection

â›” Write review âŒ
â›” Moderate review âŒ

8ï¸âƒ£ PERFORMANCE & GOALS (AGENT)

(PerformancePage.tsx, GoalsForm.tsx)

GET /agent/goals
PATCH /agent/goals
GET /agent/performance


ğŸ“Œ Reason:

View assigned goals

Track performance

ğŸ“Š AGENT API COUNT
Area	APIs
Auth	5
Dashboard	3
Leads	5
Units	3
Bookings	5
Payments	2
Reviews	1
Goals & Performance	3
TOTAL (AGENT)	~27 APIs

ğŸ‘‰ Ye bilkul realistic hai for an agent-facing CRM.




SUPER ADMIN



1ï¸âƒ£ AUTH & SESSION (SUPER ADMIN)
POST /auth/login
POST /auth/verify-otp
POST /auth/logout
GET  /auth/me
GET  /auth/permissions


ğŸ“Œ Reason:

SuperAdminConsole access

RBAC menu rendering

High-privilege session checks

2ï¸âƒ£ TENANT / ORGANIZATION GOVERNANCE

(SuperAdminTenantsPage)

GET    /super-admin/tenants
POST   /super-admin/tenants
PATCH  /super-admin/tenants/:id
PATCH  /super-admin/tenants/:id/status
GET    /super-admin/tenants/:id/usage


ğŸ“Œ Reason:

Create/enable/disable organizations

Usage & limits visibility (users, storage, activity)

â›” No tenant data CRUD âŒ

3ï¸âƒ£ GLOBAL USERS (CROSS-TENANT)

(SuperAdminUsersPage)

GET   /super-admin/users
PATCH /super-admin/users/:id/status
GET   /super-admin/users/:id/activity


ğŸ“Œ Reason:

Suspend compromised accounts

Audit suspicious activity

â›” Role assignment âŒ
â›” User creation âŒ

4ï¸âƒ£ SYSTEM CONFIGURATION (GLOBAL)

(SystemSettingsPage)

GET   /super-admin/settings
PATCH /super-admin/settings


ğŸ“Œ Reason:

Global flags

Feature toggles

Rate-limit defaults

â›” Tenant overrides âŒ (Admin scope)

5ï¸âƒ£ SECURITY & AUDIT

(SecurityDashboard)

GET /super-admin/audit/logs
GET /super-admin/security/events
POST /super-admin/security/lockdown


ğŸ“Œ Reason:

Global audit trail

Incident response (read-only + emergency action)

â›” Data mutation âŒ

6ï¸âƒ£ BILLING & SUBSCRIPTIONS (OVERSIGHT ONLY)

(BillingOverview)

GET /super-admin/billing/tenants
GET /super-admin/billing/summary


ğŸ“Œ Reason:

Platform revenue overview

Tenant billing health

â›” Charge/refund âŒ

7ï¸âƒ£ SYSTEM HEALTH & INFRA

(SystemHealthPage)

GET /super-admin/health
GET /super-admin/metrics
GET /super-admin/queues


ğŸ“Œ Reason:

Uptime

Queue backlogs

Infra observability (read-only)

8ï¸âƒ£ SUPPORT / IMPERSONATION (CONTROLLED)

(SupportTools)

POST /super-admin/impersonate/start
POST /super-admin/impersonate/stop


ğŸ“Œ Reason:

Support debugging

Temporary, audited access

âš ï¸ MUST be:

Time-boxed

Fully logged

ğŸ“Š SUPER ADMIN API COUNT
Area	APIs
Auth	5
Tenants	5
Global Users	3
System Config	2
Security & Audit	3
Billing	2
Health & Infra	3
Impersonation	2
TOTAL (SUPER ADMIN)	~25 APIs

ğŸ‘‰ Ye expected & correct count hai for platform-level control.











CUSTOMER 


1ï¸âƒ£ AUTH & SESSION (CUSTOMER)
POST /auth/login
POST /auth/verify-otp
POST /auth/logout
GET  /auth/me


ğŸ“Œ Reason:

Customer portal access

Session restore

Profile context

â›” Role/permission API âŒ (simple user)

2ï¸âƒ£ CUSTOMER PROFILE

(CustomerProfilePage)

GET   /customer/profile
PATCH /customer/profile


ğŸ“Œ Reason:

View/update personal details

Contact information management

â›” Role/status change âŒ

3ï¸âƒ£ PROJECTS & PROPERTIES (BROWSING)

(CustomerHome, PropertyListingPage, PropertyDetailPage)

GET /customer/projects
GET /customer/projects/:id

GET /customer/units
GET /customer/units/:id
GET /customer/units/availability


ğŸ“Œ Reason:

Browse projects

View unit details

Check availability

â›” Create/update units âŒ

4ï¸âƒ£ ENQUIRIES / LEADS (CUSTOMER â†’ SYSTEM)

(CustomerEnquiryForm)

POST /customer/enquiries
GET  /customer/enquiries
GET  /customer/enquiries/:id


ğŸ“Œ Reason:

Submit interest

Track enquiry status

ğŸ‘‰ Backend maps enquiry â†’ lead (agent/admin side)

5ï¸âƒ£ BOOKINGS (CUSTOMER VIEW + LIMITED ACTION)

(CustomerBookingsPage)

GET /customer/bookings
GET /customer/bookings/:id

POST /customer/bookings/:id/cancel-request


ğŸ“Œ Reason:

View booking progress

Request cancellation (approval required)

â›” Approve/reject âŒ
â›” Hold creation âŒ

6ï¸âƒ£ PAYMENTS (CUSTOMER)

(CustomerPaymentsPage)

GET /customer/payments
GET /customer/payments/:id
POST /customer/payments/:id/upload-proof


ğŸ“Œ Reason:

View due amounts

Upload payment proof / reference

â›” Mark paid âŒ
â›” Change amount âŒ

7ï¸âƒ£ DOCUMENTS & RECEIPTS

(CustomerDocumentsPage)

GET /customer/documents
GET /customer/documents/:id


ğŸ“Œ Reason:

View allotment letters

Receipts / agreements (read-only)

8ï¸âƒ£ REVIEWS (CUSTOMER)

(CustomerReviewsPage)

POST /customer/reviews
GET  /customer/reviews
PATCH /customer/reviews/:id


ğŸ“Œ Reason:

Submit review

Edit before approval

â›” Approve/reject âŒ
â›” Edit after approval âŒ

9ï¸âƒ£ NOTIFICATIONS (CUSTOMER)

(CustomerNotifications)

GET /customer/notifications
PATCH /customer/notifications/:id/read


ğŸ“Œ Reason:

Booking/payment updates

System messages

ğŸ“Š CUSTOMER API COUNT
Area	APIs
Auth	4
Profile	2
Browse	6
Enquiries	3
Bookings	3
Payments	3
Documents	2
Reviews	3
Notifications	2
TOTAL (CUSTOMER)	~28 APIs

ğŸ‘‰ Ye realistic & sufficient hai for v1 customer portal.

ğŸ”’ HARD GUARANTEES

Customer never mutates core business data

All sensitive actions â†’ request-based

No cross-customer data access

Clean separation from Agent/Admin logic

